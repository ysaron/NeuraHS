{% extends "core/base.html" %}

{% block content %}
{% load custom_filters %}
<div class="module-wrap module-wrap-{{ real_card|cclass }}">
<div class="module">
<div class="detailhead">
  <h1 class="d-inline-block">{{ real_card.name }}</h1>
  {% if real_card.collectible %}
    <span class="badge rounded-pill bg-success align-top">Коллекционная</span>
  {% elif real_card.battlegrounds %}
    <span class="badge rounded-pill bg-primary align-top">BattleGrounds</span>
  {% elif not real_card.collectible %}
    <span class="badge rounded-pill bg-warning align-top">Неколлекционная</span>
  {% endif %}
</div>
<hr>
<p><i>Где-то здесь однажды будет и изображение</i></p>
<hr>

<table class="table table-hover table-bordered" id="tRCD">
  <tr>
    <td><strong>Автор</strong></td>
    <td><a href="#">Blizzard Entertainment<sup>®</sup></a></td>
  </tr>
  <tr>
    <td><strong>Класс</strong></td>
    <td>{% for card_class in real_card.card_class.all %} {{ card_class }}{% if not forloop.last %} | {% endif %}{% endfor %}</td>
  </tr>
  {% if real_card.text %}
    <tr>
      <td><strong>Текст</strong></td>
      <td>{{ real_card.text|safe }}</td>
    </tr>
  {% endif %}
  {% if real_card.flavor %}
    <tr>
      <td><strong>Описание</strong></td>
      <td>{{ real_card.flavor|safe }}</td>
    </tr>
  {% endif %}
  <tr>
    <td><strong>Тип</strong></td>
    <td>{{ real_card.get_card_type_display }}</td>
  </tr>
  <tr>
    <td><strong>Сет</strong></td>
    <td>{{ real_card.card_set }}</td>
  </tr>
  <tr>
    <td><strong>Редкость</strong></td>
    <td>{{ real_card.get_rarity_display }}</td>
  </tr>
  {% if real_card.card_type == c_types.MINION %}
    <tr>
      <td><strong>Раса</strong></td>
      <td>{% for tribe in real_card.tribe.all %} {{ tribe }}{% if not forloop.last %} | {% endif %}{% endfor %}</td>
    </tr>
  {% endif %}
  {% if real_card.card_type == c_types.SPELL %}
    <tr>
      <td><strong>Тип заклинания</strong></td>
      <td>{{ real_card.get_spell_school_display }}</td>
    </tr>
  {% endif %}
  {% format_stats real_card %}
  {% if real_card.mechanics_list %}
    <tr>
      <td><strong>Механики</strong></td>
      <td>{{ real_card.mechanics_list }}</td>
    </tr>
  {% endif %}
  {% if real_card.artist %}
    <tr>
      <td><strong>Художник</strong></td>
      <td>{{ real_card.artist }}</td>
    </tr>
  {% endif %}
  <tr>
    <td><strong>Дата создания</strong></td>
    <td>{{ real_card.creation_date|date:"d.m.Y H:i:s" }}</td>
  </tr>
</table>
</div>
</div>

{% endblock %}