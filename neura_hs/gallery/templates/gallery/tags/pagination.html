{% load i18n %}
<div class="pagination">
  <span class="page-item disabled"><a class="page-link">{% trans "Total results" %}: {{ paginator.count }}</a></span>
  <!-- Предыдущий GET-запрос сохраняется при постраничном переходе -->
  {% if page_obj.has_previous %}
    <span class="page-item"><a class="page-link" href="?{% for key, value in request.GET.items %}{% if key != 'page' and value != '' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ page_obj.previous_page_number }}">&lt;</a></span>
  {% else %}
    <span class="page-item disabled"><a class="page-link">&lt;</a></span>
  {% endif %}
  {% if show_first %}
    <span class="page-item"><a class="page-link" href="?{% for key, value in request.GET.items %}{% if key != 'page' and value != '' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page=1">1</a></span>
    <span class="page-item disabled"><a class="page-link">...</a></span>
  {% endif %}
  {% for p in adjacent_pages %}    <!-- Отображение ссылок на конкретные страницы -->
      {% if p == page_obj.number %}   <!-- Текущая страница -->
          <span class="page-item active"><a class="page-link">{{ p }}</a></span>
      {% else %}
          <span class="page-item"><a class="page-link" href="?{% for key, value in request.GET.items %}{% if key != 'page' and value != '' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ p }}">{{ p }}</a></span>
      {% endif %}
  {% endfor %}
  {% if show_last %}
    <span class="page-item disabled"><a class="page-link">...</a></span>
    <span class="page-item"><a class="page-link" href="?{% for key, value in request.GET.items %}{% if key != 'page' and value != '' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a></span>
  {% endif %}
  {% if page_obj.has_next %}
    <span class="page-item"><a class="page-link" href="?{% for key, value in request.GET.items %}{% if key != 'page' and value != '' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ page_obj.next_page_number }}">&gt;</a></span>
  {% else %}
    <span class="page-item disabled"><a class="page-link">&gt;</a></span>
  {% endif %}
</div>