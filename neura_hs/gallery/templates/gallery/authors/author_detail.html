{% extends "core/base.html" %}

{% block content %}
{% load custom_filters %}
<hr>
<div class="detailhead">
  <h1 class="h1 d-inline-block">{{ author.user.get_username }}</h1>
  <span class="badge rounded-pill {{ author.user|verbose_group|get_item:'bg-color' }} align-top">{{ author.user|verbose_group|get_item:'group' }}</span>
  <p>{{ author.about }}</p>
</div>
<hr>
<p><i>Где-то здесь однажды будет и изображение (АВАТАР)</i></p>
<hr>

{% if author.fancard_set.all %}
  <h2>Созданные карты</h2>
  {% if not is_paginated %}
  <div class="pagination">
    <span class="page-item disabled"><a class="page-link">Всего результатов: {{ author.fancard_set.all.count }}</a></span>
  </div>
  <hr>
  {% endif %}
  <table class="table" id="tRCL">
    <thead class="darktable">
      <tr>
        <th style="width: 30%;">Название</th>
        <th style="width: 15%;">Тип</th>
        <th style="width: 25%;">Класс</th>
        <th style="width: 35%;">Дата создания</th>
      </tr>
    </thead>
    <tbody>
    {% for card in author.fancard_set.all %}
    <tr class="{{ card|cclass }} {{ card|rar }} flex-fill position-relative">
      <td><a class="stretched-link" href="{{ card.get_absolute_url }}" target="_blank" title="Детальное описание карты {{ card.name }}">{{ card.name }}</a></td>
      <td>{{ card.get_card_type_display }}</td>
      <td>{% for card_class in card.card_class.all %} {{ card_class }}{% if not forloop.last %} | {% endif %}{% endfor %}</td>
      <td>{{ card.creation_date|date:"d.m.Y H:i:s" }}</td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>Автором пока не создано ни одной фан-карты</p>
  <hr>
{% endif %}
{% endblock %}